Barebones copypasta of [doobie-typesafe](https://github.com/arturaz/doobie-typesafe)

Initially done this way, because doobie-typesafe was relying on old version of doobie.
Would probably make sense to use it now that its dependencies were updated?
